import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import FileUpload from './FileUpload';

<Meta
	title="Common/FileUpload"
	component={FileUpload}
	decorators={[
		(storyFn) => (
			<div
				style={{
					maxWidth: '620px',
				}}
			>
				{storyFn()}
			</div>
		),
	]}
/>

# FileUpload

This file upload component is using [react-dropzone](https://react-dropzone.js.org/) and has the possibility to use the options from this library.

Check out this [example](https://react-dropzone.js.org/#!/Basic%20example) based on hooks.

## Default

_The component below uses these options:_

-   **noClick**: true,
-   **noKeyboard**: true,
-   **accept**: 'image/png'

<Canvas>
	<Story name="Default">
		<FileUpload
			getPostUrl={() => Promise.resolve('https://v2.convertapi.com/upload')} //fakeapi
			placeholder="Sleep de png bestanden in dit vlak of"
			droppingLabel="bestanden geselecteerd"
			selectFilesLabel="selecteer bestanden"
			removeLabel="Wissen"
			cancelLabel="Annuleren"
			fileUploadErrorLabel="dit bestand kan niet worden geüpload"
			fileUploadInProgressLabel="wordt geupload"
			options={{ noClick: true, noKeyboard: true, accept: 'image/png' }}
			getHeaders={async () => {
				return Promise.resolve({});
			}}
			onFileSuccess={(file) => {
				console.log(file);
			}}
			onFileRemove={(file) => console.log('remove file from redux store of database', file)}
		/>
	</Story>
</Canvas>

## Pre-populated FileList

<Canvas>
	<Story name="Pre-populated FileList">
		<FileUpload
			getPostUrl={() => Promise.resolve('https://v2.convertapi.com/upload')} //fakeapi
			storedFiles={[
				{
					name: 'Test.pdf',
					path: 'Test.pdf',
					tmpId: 3,
					progress: 100,
					response:
						'{"FileId":"n8913ueen4jzn35am0wnk6kgs19k3r0q","FileName":"Test.pdf","FileExt":"pdf","Url":"https://v2.convertapi.com/d/n8913ueen4jzn35am0wnk6kgs19k3r0q"}',
				},
			]}
			placeholder="Sleep een of meerdere bestanden in dit vlak of"
			droppingLabel="bestanden geselecteerd"
			selectFilesLabel="selecteer bestanden"
			removeLabel="Wissen"
			cancelLabel="Annuleren"
			fileUploadErrorLabel="dit bestand kan niet worden geüpload"
			fileUploadInProgressLabel="wordt geupload"
			options={{ noClick: true, noKeyboard: true }}
			getHeaders={async () => {
				return Promise.resolve({});
			}}
			onFileSuccess={(file) => {
				console.log(file);
			}}
			onFileRemove={(file) => console.log('remove file from redux store of database', file)}
		/>
	</Story>
</Canvas>

## Remove completed from list

<Canvas>
	<Story name="Remove completed from FileList">
		<FileUpload
			getPostUrl={() => Promise.resolve('https://v2.convertapi.com/upload')} //fakeapi
			placeholder="Sleep een of meerdere bestanden in dit vlak of"
			droppingLabel="bestanden geselecteerd"
			selectFilesLabel="selecteer bestanden"
			removeLabel="Wissen"
			removeCompletedFromList={true}
			cancelLabel="Annuleren"
			fileUploadErrorLabel="dit bestand kan niet worden geüpload"
			fileUploadInProgressLabel="wordt geupload"
			options={{ noClick: true, noKeyboard: true }}
			getHeaders={async () => {
				return Promise.resolve({});
			}}
			onFileSuccess={(file) => {
				console.log(file);
			}}
			onFileRemove={(file) => console.log('remove file from redux store of database', file)}
		/>
	</Story>
</Canvas>
