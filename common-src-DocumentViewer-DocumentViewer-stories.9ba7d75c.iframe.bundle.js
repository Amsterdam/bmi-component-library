"use strict";(self.webpackChunk_amsterdam_bmi_component_library=self.webpackChunk_amsterdam_bmi_component_library||[]).push([[905],{"./src/common/src/DocumentViewer/DocumentViewer.stories.tsx":(e,n,r)=>{r.r(n),r.d(n,{Image:()=>$,NoViewerAvailable:()=>z,NotFound:()=>q,PDF:()=>H,default:()=>U});var t,o,i,a,c,u,s,d,l,m,p,f,g,y,v=r("./node_modules/react/jsx-runtime.js"),j=r("./node_modules/react/index.js"),w=r("./node_modules/@amsterdam/asc-ui/es/utils/themeUtils.js"),O=r("./node_modules/@amsterdam/asc-ui/es/components/Heading/Heading.js"),b=r("./node_modules/@amsterdam/asc-ui/es/components/Alert/Alert.js"),h=r("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=r("./node_modules/@amsterdam/asc-ui/es/components/Spinner/Spinner.js");function S(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function D(){var e=S(["\n	display: flex;\n	flex-direction: column;\n"]);return D=function(){return e},e}function _(){var e=S(["\n	margin: 0 auto;\n"]);return _=function(){return e},e}var R=h.Ay.div(D()),A=(0,h.Ay)(x.A)(_()),V=function(e){var n=e.uri;return(0,v.jsx)("img",{src:n,alt:"Afbeelding"})};try{V.displayName="ImageRenderer",V.__docgenInfo={description:"",displayName:"ImageRenderer",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/src/DocumentViewer/Renderer/ImageRenderer.tsx#ImageRenderer"]={docgenInfo:V.__docgenInfo,name:"ImageRenderer",path:"src/common/src/DocumentViewer/Renderer/ImageRenderer.tsx#ImageRenderer"})}catch(e){}var T=r("./node_modules/@amsterdam/asc-ui/es/components/Paragraph/Paragraph.js"),E=r("./node_modules/@amsterdam/asc-ui/es/components/Link/Link.js");function P(){var e=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n	height: calc(100vh - 80px);\n	width: 100%;\n"]);return P=function(){return e},e}var I=h.Ay.object(P()),F=function(e){var n=e.uri;return(0,v.jsx)(I,{data:n,role:"document",children:(0,v.jsxs)(b.A,{level:"warning",outline:!0,children:[(0,v.jsx)(T.A,{children:"Document kan niet weergegeven worden in de browser."}),(0,v.jsx)(E.A,{href:n,icon:"download",children:"Download"})]})})};try{F.displayName="PDFRenderer",F.__docgenInfo={description:"",displayName:"PDFRenderer",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/src/DocumentViewer/Renderer/PDFRenderer.tsx#PDFRenderer"]={docgenInfo:F.__docgenInfo,name:"PDFRenderer",path:"src/common/src/DocumentViewer/Renderer/PDFRenderer.tsx#PDFRenderer"})}catch(e){}var C=function(e){var n=e.uri;return(0,v.jsxs)(b.A,{level:"warning",outline:!0,children:[(0,v.jsx)(T.A,{children:"Document kan niet weergegeven worden in de browser."}),(0,v.jsx)(E.A,{href:n,icon:"download",children:"Download"})]})};try{C.displayName="DownloadRenderer",C.__docgenInfo={description:"",displayName:"DownloadRenderer",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/src/DocumentViewer/Renderer/DownloadRenderer.tsx#DownloadRenderer"]={docgenInfo:C.__docgenInfo,name:"DownloadRenderer",path:"src/common/src/DocumentViewer/Renderer/DownloadRenderer.tsx#DownloadRenderer"})}catch(e){}!function(e){e[e.jpg=0]="jpg",e[e.jpeg=1]="jpeg",e[e["image/jpg"]=2]="image/jpg",e[e["image/jpeg"]=3]="image/jpeg",e[e.png=4]="png",e[e["image/png"]=5]="image/png",e[e.bmp=6]="bmp",e[e["image/bmp"]=7]="image/bmp",e[e.tif=8]="tif",e[e.tiff=9]="tiff",e[e["image/tif"]=10]="image/tif",e[e["image/tiff"]=11]="image/tiff"}(t||(t={})),function(e){e[e["application/pdf"]=0]="application/pdf",e[e.pdf=1]="pdf"}(o||(o={}));var k=function(e){var n=e.uri,r=e.contentType;return r in t?(0,v.jsx)(V,{uri:n}):r in o?(0,v.jsx)(F,{uri:n}):(0,v.jsx)(C,{uri:n})};try{k.displayName="DocumentRenderer",k.__docgenInfo={description:"",displayName:"DocumentRenderer",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}},contentType:{defaultValue:null,description:"",name:"contentType",required:!0,type:{name:"string | ContentTypes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/src/DocumentViewer/Renderer/DocumentRenderer.tsx#DocumentRenderer"]={docgenInfo:k.__docgenInfo,name:"DocumentRenderer",path:"src/common/src/DocumentViewer/Renderer/DocumentRenderer.tsx#DocumentRenderer"})}catch(e){}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r,t,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){c=!0,t=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw t}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return L(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(e){var n=e.uri,r=e.onFailure,t=e.currentFilename,o=N((0,j.useState)({loading:!0}),2),i=o[0],a=o[1],c=i.loading,u=i.filename,s=i.error,d=i.contentType,l=function(e){a(function(n){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){!function(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}(e,n,r[n])})}return e}({},n,e)})};return((0,j.useEffect)(function(){l({loading:!0,error:void 0,contentType:void 0}),fetch(n,{method:"GET"}).then(function(e){if(!e.ok)throw Error(404===e.status?"Document niet gevonden.":"Fout bij het ophalen.");var n,r,t,o=N((null===(n=e.headers.get("content-type"))||void 0===n?void 0:n.split(";"))||[],1)[0];if(!o)throw Error("Fout bij het ophalen.");l({loading:!1,contentType:o,filename:null===(t=((null===(r=e.headers.get("content-disposition"))||void 0===r?void 0:r.split("filename="))||[])[1])||void 0===t?void 0:t.replace(/^"(.+(?="$))"$/,"$1")})}).catch(function(e){l({loading:!1,error:e.message}),r&&r(e)})},[n]),c)?(0,v.jsx)(R,{"data-testid":"document-viewer",children:(0,v.jsx)(A,{"data-testid":"spinner",color:(0,w.hm)("secondary"),size:25})}):(0,v.jsxs)(R,{"data-testid":"document-viewer",children:[(0,v.jsx)(O.A,{forwardedAs:"h3",children:null!=u?u:t}),s&&(0,v.jsx)(b.A,{level:"error",outline:!0,children:s}),d&&(0,v.jsx)(k,{uri:n,contentType:d})]})};try{B.displayName="DocumentViewer",B.__docgenInfo={description:"",displayName:"DocumentViewer",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}},onFailure:{defaultValue:null,description:"",name:"onFailure",required:!1,type:{name:"((e: Error) => void)"}},currentFilename:{defaultValue:null,description:"",name:"currentFilename",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/src/DocumentViewer/DocumentViewer.tsx#DocumentViewer"]={docgenInfo:B.__docgenInfo,name:"DocumentViewer",path:"src/common/src/DocumentViewer/DocumentViewer.tsx#DocumentViewer"})}catch(e){}function K(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){!function(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}(e,n,r[n])})}return e}function Y(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var q=function(){return(0,v.jsx)(B,{currentFilename:"notfound.txt",uri:"assets/notfound.txt"})},z=function(){return(0,v.jsx)(B,{currentFilename:"example.xlsx",uri:"assets/example.xlsx"})},$=function(){return(0,v.jsx)(B,{currentFilename:"example.png",uri:"assets/example.png"})},H=function(){return(0,v.jsx)(B,{currentFilename:"example.pdf",uri:"assets/example.pdf"})};let U={title:"common/DocumentViewer",component:B};q.parameters=Y(K({},q.parameters),{docs:Y(K({},null===(i=q.parameters)||void 0===i?void 0:i.docs),{source:K({originalSource:'() => {\n  return <DocumentViewer currentFilename="notfound.txt" uri="assets/notfound.txt" />;\n}'},null===(c=q.parameters)||void 0===c?void 0:null===(a=c.docs)||void 0===a?void 0:a.source)})}),z.parameters=Y(K({},z.parameters),{docs:Y(K({},null===(u=z.parameters)||void 0===u?void 0:u.docs),{source:K({originalSource:'() => {\n  return <DocumentViewer currentFilename="example.xlsx" uri="assets/example.xlsx" />;\n}'},null===(d=z.parameters)||void 0===d?void 0:null===(s=d.docs)||void 0===s?void 0:s.source)})}),$.parameters=Y(K({},$.parameters),{docs:Y(K({},null===(l=$.parameters)||void 0===l?void 0:l.docs),{source:K({originalSource:'() => {\n  return <DocumentViewer currentFilename="example.png" uri="assets/example.png" />;\n}'},null===(p=$.parameters)||void 0===p?void 0:null===(m=p.docs)||void 0===m?void 0:m.source)})}),H.parameters=Y(K({},H.parameters),{docs:Y(K({},null===(f=H.parameters)||void 0===f?void 0:f.docs),{source:K({originalSource:'() => {\n  return <DocumentViewer currentFilename="example.pdf" uri="assets/example.pdf" />;\n}'},null===(y=H.parameters)||void 0===y?void 0:null===(g=y.docs)||void 0===g?void 0:g.source)})})}}]);